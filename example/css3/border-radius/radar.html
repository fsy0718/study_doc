<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>微博雷达</title>
  <style>
    *{
      margin: 0;
      padding: 0;
    }

    .radar{
      width: 600px;
      height: 600px;
      position: relative;
      margin: 200px auto;
      border: solid 1px red;
      text-align: center;
    }
    body{

    }

    .box > div{
      border-radius: 50%;
      position: absolute;
      opacity: 1;
    }

    .s1{
      width: 98px;
      height: 98px;
      background: transparent;
      border: solid 1px rgba(200,200,200,0.2);
      top: 250px;
      left: 250px;
      z-index: 1;
    }
    .s2{
      width: 100px;
      height: 100px;
      background: rgba(200,200,200,0.2);
      top: 250px;
      left: 250px;
      z-index: 2;
    }
    .s3{
      z-index: 3;
    }

    .inner,.s3{
      width: 13.333%;
      height: 13.333%;
      top: calc((100% - 13.3333% ) / 2);
      left: calc((100% - 13.333% ) / 2);
      background: #fff;
      border: solid 1px rgba(200,200,200,0.2);
    }
    .inner{
      z-index: 10;
    }

    .center{
      width: 62.5%;
      height: 62.5%;
      background: #fff;
      border: solid 3px rgba(10,10,10,0.6);
      z-index: 10;
      top: calc((100% - 62.5%) / 2);
      left: calc((100% - 62.5%) / 2);
      border-radius: 50%;
      position: absolute;
    }

    .center:before{
      position: absolute;
      width: 50%;
      height: 50%;
      border: solid 1px rgba(10,10,10,0.6);
      top: calc(25% + 1px) ;
      left: calc(25% + 1px);
      z-index: 11;
      content: '';
      border-radius: 50%;
    }

    .center:after{
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: rgba(10,10,10,0.6);
      top: calc((100% - 6px) / 2);
      left: calc((100% - 6px) / 2);
      content:'';
      position: absolute;
    }

    .line{
      width: calc(31.25% + 3px);
      height: 3px;
      background: rgba(10,10,10,0.6);
      top: calc((100% - 3px) / 2  + 3px);
      left: calc((31.25% + 3px) / 2);
      z-index: 13;
      position: absolute;
    }
    .line:before{
      width: 5px;
      height: 3px;
      background: #fff;
      top: -3px;
      left: 0;
      z-index: 14;
      content:'';
      position: absolute;
    }

    .radar:active .inner{
      width: 12%;
      height: 12%;
    }
    .radar:active .s3{
      width: 12%;
      height: 12%;
    }

    .radar-search .s1{
      width: 100%;
      height: 100%;
      opacity: 0;
      top: 0;
      left: 0;

    }

    .radar-search .s2,.radar-search .s3{
      width: 80%;
      height: 80%;
      opacity: 0;
      top: 20%;
      left: 20%;
    }

    .radar-search .s1{
      transition: all 0.5s ease-in;
    }

    .radar-search .s2{
      transition: all 0.5s ease-in;
    }
    .radar-search .s3{
      transition: all 0.8s ease-in;
    }
  </style>
</head>
<body>
  <div class="radar">
    <div class="box">
      <div class="s1"></div>
      <div class="s2"></div>
      <div class="s3"></div>
      <div class="inner">
        <div class="center"></div>
        <div class="line"></div>
      </div>
    </div>
    <button>click</button>
    <script>
      var btn = document.querySelector('button');
      var radar = document.querySelector('.radar');
      var hasAnimate = false,timer;
      btn.onclick = function(){
        if(hasAnimate){
          clearInterval(timer);
          timer = null;
          hasAnimate = false;
        }else{
          hasAnimate = true;
          timer = setInterval(toggleClass,500);
        }

      }
      function toggleClass(){
        radar.classList.toggle('radar-search')
      }
    </script>
  </div>
</body>
</html>